# ZipLock Backend Configuration
# Copy to ~/.config/ziplock/config.yml (Linux) or %APPDATA%/ZipLock/config.yml (Windows)

# IPC Communication Settings
ipc:
  # Unix socket path for backend communication
  socket_path: "/tmp/ziplock/backend.sock"
  # Maximum concurrent connections
  max_connections: 10
  # Connection timeout in seconds
  connection_timeout: 30
  # Request timeout in seconds
  request_timeout: 60

# Storage and Archive Settings
storage:
  # Default directory for storing archives
  default_archive_dir: "~/Documents/ZipLock"
  # Number of backup copies to maintain
  backup_count: 3
  # Enable automatic backup creation
  auto_backup: true
  # Custom backup directory (optional)
  backup_dir: null
  # File lock timeout in seconds
  file_lock_timeout: 30
  # Enable basic archive integrity checking
  verify_integrity: true
  # Minimum master password length
  min_password_length: 12

  # 7z Compression Settings
  compression:
    # Compression level (0-9, higher = better compression but slower)
    level: 6
    # Use solid compression (better compression but slower random access)
    solid: false

  # Repository Validation Settings
  validation:
    # Enable comprehensive repository validation when opening archives
    enable_comprehensive_validation: true
    # Enable deep validation that checks all credential files individually
    deep_validation: true
    # Check for legacy format repositories and automatically migrate them
    check_legacy_formats: true
    # Validate YAML schema compliance for all repository files
    validate_schemas: true
    # Automatically attempt to repair validation issues when found
    auto_repair: true
    # Fail repository opening if critical validation issues are found
    fail_on_critical_issues: true
    # Log detailed validation reports for monitoring and debugging
    log_validation_details: false

# Security Settings
security:
  # Auto-lock timeout in seconds (0 = disabled)
  auto_lock_timeout: 900 # 15 minutes

  # Master passphrase requirements
  passphrase_requirements:
    min_length: 12
    require_lowercase: true
    require_uppercase: true
    require_numeric: true
    require_special: true
    max_length: 0 # 0 = no limit
    min_unique_chars: 8

# Logging Settings
logging:
  # Log level: trace, debug, info, warn, error
  level: "info"
  # Enable file logging
  file_logging: false
  # Log file path (defaults to system log directory)
  log_file: null
